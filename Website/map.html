<!DOCTYPE html> 

<html lang="en">  
    <head> 
        <title>Simple Map</title>
        <meta name="viewport" content="initial-scale=1.0">
        <meta charset="utf-8">
        <style>
            #map {
              height: 100%;
            }
            html, body {
              height: 100%;
              margin: 0;
              padding: 0;
            }
        </style>
        <script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-analytics.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-firestore.js"></script>
        <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
        <script src="https://unpkg.com/@google/markerclustererplus@4.0.1/dist/markerclustererplus.min.js"></script>
    </head> 
    
    <body> 
        <div id="map"></div>
        <script>
            function initMap() {
				const map = new google.maps.Map(
					document.getElementById('map'),
					{
						zoom: 3,
						center: { lat: 23.1, lng: 72.32 },
					}
				);

				document.querySelector('#map').addEventListener('click', () => {
					const locations = [
						{ lat: 19.076, lng: 72.8777 },
						{ lat: 19.033, lng: 73.0297 },
						{ lat: 18.5204, lng: 73.8567 },
						{ lat: 15.2993, lng: 74.124 },
					];
					const labels = 'ASTS';
					const markers = locations.map((location, i) => {
						return new google.maps.Marker({
							position: location,
							label: labels[i % labels.length],
						});
					});
					new MarkerClusterer(map, markers, {
						imagePath:
							'https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m',
					});
				});
			}
        </script>
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBIwzALxUPNbatRBj3Xi1Uhp0fFzwWNBkE&callback=initMap&libraries=&v=weekly" async></script>
        <script>
            var firebaseConfig = {
              apiKey: "AIzaSyAcTJKyEuE1ABt09JmXpxblvVfjVv5cbPw",
              authDomain: "mission14-5e3ef.firebaseapp.com",
              databaseURL: "https://mission14-5e3ef.firebaseio.com",
              projectId: "mission14-5e3ef",
              storageBucket: "mission14-5e3ef.appspot.com",
              messagingSenderId: "1029632925910",
              appId: "1:1029632925910:web:aa3c2cf91ef9dba664e977",
              measurementId: "G-DVXVD7S8DV"
            };
            firebase.initializeApp(firebaseConfig);
            firebase.analytics();
            const db = firebase.firestore();
            db.settings({ timestampsInSnapshots: true }); 
          </script>
          <script src="app.js"></script>
    </body>
</html>
